{"ast":null,"code":"const initialTodos = [// {\n  //   id: 0,\n  //   title: \"ETQDev, je veux initialiser le projet à l'aide de create-react-app\",\n  //   description:\n  //     \"Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium,totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta .\",\n  //   completed: false,\n  //   deleted: false,\n  // },\n  // {\n  //   id: 1,\n  //   title: \"ETQDev, je veux initialiser le projet à l'aide de create-react-app\",\n  //   description:\n  //     \"Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium,totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta .\",\n  //   completed: false,\n  //   deleted: false,\n  // },\n  // {\n  //   id: 2,\n  //   title: \"ETQDev, je veux initialiser le projet à l'aide de create-react-app\",\n  //   description:\n  //     \"Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium,totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta .\",\n  //   completed: false,\n  //   deleted: true,\n  // },\n];\n\nconst nextTodoId = todos => {\n  const maxId = todos.reduce((maxId, todo) => Math.max(todo.id, maxId), -1);\n  return maxId + 1;\n};\n\nconst todosReducer = (state = initialTodos, action) => {\n  switch (action.type) {\n    case \"todos/getTodos\":\n      {\n        return action.payload.todos;\n      }\n\n    case \"todos/todoAdded\":\n      {\n        return [...state, {\n          id: nextTodoId(state),\n          title: action.payload.title,\n          description: action.payload.description,\n          completed: false\n        }];\n      }\n\n    case \"todos/error\":\n      {\n        return state;\n      }\n\n    case \"todos/todoCompleted\":\n      {\n        return state.map(todo => {\n          return todo.id === action.payload.id ? { ...todo,\n            completed: true\n          } : todo;\n        });\n      }\n\n    case \"todos/todoRemoved\":\n      {\n        return state.map(todo => {\n          return todo.id === action.payload.id ? { ...todo,\n            completed: false,\n            deleted: true\n          } : todo;\n        });\n      }\n\n    default:\n      return state;\n  }\n};\n\nexport default todosReducer;","map":{"version":3,"sources":["C:/Users/ayad/Desktop/NW/todo-app/react-front/src/components/todos/todos.slice.tsx"],"names":["initialTodos","nextTodoId","todos","maxId","reduce","todo","Math","max","id","todosReducer","state","action","type","payload","title","description","completed","map","deleted"],"mappings":"AAOA,MAAMA,YAAyB,GAAG,CAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAxBgC,CAAlC;;AA2BA,MAAMC,UAAU,GAAIC,KAAD,IAAqC;AACtD,QAAMC,KAAK,GAAGD,KAAK,CAACE,MAAN,CAAa,CAACD,KAAD,EAAQE,IAAR,KAAiBC,IAAI,CAACC,GAAL,CAASF,IAAI,CAACG,EAAd,EAAkBL,KAAlB,CAA9B,EAAwD,CAAC,CAAzD,CAAd;AACA,SAAOA,KAAK,GAAG,CAAf;AACD,CAHD;;AAKA,MAAMM,YAAY,GAAG,CAACC,KAAK,GAAGV,YAAT,EAAuBW,MAAvB,KAA8C;AACjE,UAAQA,MAAM,CAACC,IAAf;AACE,SAAK,gBAAL;AAAuB;AACrB,eAAOD,MAAM,CAACE,OAAP,CAAeX,KAAtB;AACD;;AACD,SAAK,iBAAL;AAAwB;AACtB,eAAO,CACL,GAAGQ,KADE,EAEL;AACEF,UAAAA,EAAE,EAAEP,UAAU,CAACS,KAAD,CADhB;AAEEI,UAAAA,KAAK,EAAEH,MAAM,CAACE,OAAP,CAAeC,KAFxB;AAGEC,UAAAA,WAAW,EAAEJ,MAAM,CAACE,OAAP,CAAeE,WAH9B;AAIEC,UAAAA,SAAS,EAAE;AAJb,SAFK,CAAP;AASD;;AACD,SAAK,aAAL;AAAoB;AAClB,eAAON,KAAP;AACD;;AACD,SAAK,qBAAL;AAA4B;AAC1B,eAAOA,KAAK,CAACO,GAAN,CAAWZ,IAAD,IAAU;AACzB,iBAAOA,IAAI,CAACG,EAAL,KAAYG,MAAM,CAACE,OAAP,CAAeL,EAA3B,GACH,EAAE,GAAGH,IAAL;AAAWW,YAAAA,SAAS,EAAE;AAAtB,WADG,GAEHX,IAFJ;AAGD,SAJM,CAAP;AAKD;;AACD,SAAK,mBAAL;AAA0B;AACxB,eAAOK,KAAK,CAACO,GAAN,CAAWZ,IAAD,IAAU;AACzB,iBAAOA,IAAI,CAACG,EAAL,KAAYG,MAAM,CAACE,OAAP,CAAeL,EAA3B,GACH,EAAE,GAAGH,IAAL;AAAWW,YAAAA,SAAS,EAAE,KAAtB;AAA6BE,YAAAA,OAAO,EAAE;AAAtC,WADG,GAEHb,IAFJ;AAGD,SAJM,CAAP;AAKD;;AACD;AACE,aAAOK,KAAP;AAjCJ;AAmCD,CApCD;;AAsCA,eAAeD,YAAf","sourcesContent":["import { TodoProps } from \"../common/todo/todo\";\r\n\r\ninterface TodoAction {\r\n  type: string;\r\n  payload: any;\r\n}\r\n\r\nconst initialTodos: TodoProps[] = [\r\n  // {\r\n  //   id: 0,\r\n  //   title: \"ETQDev, je veux initialiser le projet à l'aide de create-react-app\",\r\n  //   description:\r\n  //     \"Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium,totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta .\",\r\n  //   completed: false,\r\n  //   deleted: false,\r\n  // },\r\n  // {\r\n  //   id: 1,\r\n  //   title: \"ETQDev, je veux initialiser le projet à l'aide de create-react-app\",\r\n  //   description:\r\n  //     \"Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium,totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta .\",\r\n  //   completed: false,\r\n  //   deleted: false,\r\n  // },\r\n  // {\r\n  //   id: 2,\r\n  //   title: \"ETQDev, je veux initialiser le projet à l'aide de create-react-app\",\r\n  //   description:\r\n  //     \"Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium,totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta .\",\r\n  //   completed: false,\r\n  //   deleted: true,\r\n  // },\r\n];\r\n\r\nconst nextTodoId = (todos: Array<TodoProps>): number => {\r\n  const maxId = todos.reduce((maxId, todo) => Math.max(todo.id, maxId), -1);\r\n  return maxId + 1;\r\n};\r\n\r\nconst todosReducer = (state = initialTodos, action: TodoAction) => {\r\n  switch (action.type) {\r\n    case \"todos/getTodos\": {\r\n      return action.payload.todos;\r\n    }\r\n    case \"todos/todoAdded\": {\r\n      return [\r\n        ...state,\r\n        {\r\n          id: nextTodoId(state),\r\n          title: action.payload.title,\r\n          description: action.payload.description,\r\n          completed: false,\r\n        },\r\n      ];\r\n    }\r\n    case \"todos/error\": {\r\n      return state;\r\n    }\r\n    case \"todos/todoCompleted\": {\r\n      return state.map((todo) => {\r\n        return todo.id === action.payload.id\r\n          ? { ...todo, completed: true }\r\n          : todo;\r\n      });\r\n    }\r\n    case \"todos/todoRemoved\": {\r\n      return state.map((todo) => {\r\n        return todo.id === action.payload.id\r\n          ? { ...todo, completed: false, deleted: true }\r\n          : todo;\r\n      });\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default todosReducer;\r\n"]},"metadata":{},"sourceType":"module"}